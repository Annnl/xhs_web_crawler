# XHS-Easy-Crawler

ä¸€ä¸ªåŸºäº Chrome æ‰©å±•çš„å°çº¢ä¹¦æ•°æ®é‡‡é›†å·¥å…·ï¼Œé‡‡ç”¨æ¨¡æ‹Ÿç‚¹å‡»æ–¹å¼è·å–æ•°æ®ï¼Œæ— éœ€æ‹…å¿ƒåçˆ¬é™åˆ¶ã€‚

## ç‰¹ç‚¹

- ğŸš€ åŸºäº Chrome æ‰©å±•ï¼Œä½¿ç”¨ç®€å•
- ğŸ›¡ï¸ æ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸ºï¼Œä¸ä¼šè§¦å‘åçˆ¬æªæ–½
- ğŸ“¦ è‡ªåŠ¨åŒ–æ•°æ®é‡‡é›†å’Œå¤„ç†
- ğŸ” æ”¯æŒå…³é”®è¯æœç´¢é‡‡é›†
- ğŸ’¾ æ”¯æŒ HAR æ–‡ä»¶å¯¼å‡ºå’Œè§£ææ•°æ®

## å·¥ä½œåŸç†

è¯¥å·¥å…·é€šè¿‡æ¨¡æ‹Ÿç”¨æˆ·åœ¨å°çº¢ä¹¦ç½‘é¡µç‰ˆçš„æµè§ˆè¡Œä¸ºæ¥é‡‡é›†æ•°æ®ã€‚ä½¿ç”¨ Chrome æ‰©å±•ç›‘æ§å’Œè®°å½•ç½‘ç»œè¯·æ±‚ï¼Œæœ€åé€šè¿‡ Python è„šæœ¬å¤„ç†å¯¼å‡ºçš„æ•°æ®ã€‚

## ä½¿ç”¨è¯´æ˜

### å‰ç½®è¦æ±‚

- Google Chrome æµè§ˆå™¨
- Python 3.6+
- å°çº¢ä¹¦è´¦å·

### å®‰è£…æ­¥éª¤

1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/leafiy/xhs_web_crawler
cd xhs-easy-crawler
```

2. åœ¨ Chrome ä¸­å®‰è£…æ‰©å±•
   - æ‰“å¼€ Chrome æ‰©å±•ç®¡ç†é¡µé¢ (chrome://extensions/)
   - å¯ç”¨å¼€å‘è€…æ¨¡å¼
   - ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
   - é€‰æ‹©é¡¹ç›®ä¸­çš„ `chrome_extension` æ–‡ä»¶å¤¹
   - ![image](https://github.com/user-attachments/assets/30d2a0f4-90c0-4aac-be1f-3d4a963ed14a)


### ä½¿ç”¨æµç¨‹

1. **å‡†å¤‡å·¥ä½œ**

   - æ‰“å¼€å°çº¢ä¹¦ç½‘é¡µç‰ˆ (https://www.xiaohongshu.com)
   - ç™»å½•æ‚¨çš„è´¦å·
   - æ‰“å¼€ Chrome å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰

2. **æ•°æ®é‡‡é›†**

   - åœ¨æœç´¢æ¡†è¾“å…¥ç›®æ ‡å…³é”®è¯
   - ç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼Œæ‰“å¼€æ§åˆ¶é¢æ¿
   - ç‚¹å‡»"å¼€å§‹é‡‡é›†"æŒ‰é’®
   - ç­‰å¾…è‡ªåŠ¨é‡‡é›†å®Œæˆ
   - ![image](https://github.com/user-attachments/assets/ab890a31-f5d3-414a-8533-e988689fdde1)


3. **æ•°æ®å¯¼å‡º**

   - åœ¨ Chrome å¼€å‘è€…å·¥å…·çš„ Network é¢æ¿ä¸­
   - å³é”®ç‚¹å‡»å¹¶é€‰æ‹©"Save all as HAR with content"
   - ä¿å­˜ç”Ÿæˆçš„ .har æ–‡ä»¶
   - ![image](https://github.com/user-attachments/assets/a8662677-3d9c-4e13-a001-9e417e8cbb4f)


4. **æ•°æ®å¤„ç†**

```bash
python extract-content.py
```

æŒ‰æç¤ºè¾“å…¥ HAR æ–‡ä»¶è·¯å¾„ï¼Œç¨‹åºå°†è‡ªåŠ¨æå–ç¬”è®°æ•°æ®å¹¶ä¿å­˜ä¸º JSON æ ¼å¼ã€‚

## è¾“å‡ºæ ¼å¼

æå–çš„æ•°æ®å°†ä¿å­˜ä¸º JSON æ–‡ä»¶ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š

```json
[
  {
    "time": 1708778459000,
    "share_info": {
      "un_share": false
    },
    "type": "normal",
    "title": "9999",
    "user": {
      "user_id": "999",
      "nickname": "DOME",
      "avatar": "999",
      "xsec_token": "999="
    },
    "tag_list": [
      {
        "type": "topic",
        "id": "123",
        "name": "è®ºæ–‡å­¦ä¹ "
      }
    ],
    "at_user_list": [],
    "last_update_time": 1709233626000,
    "note_id": "7890",
    "desc": "78907890",
    "interact_info": {
      "collected": false,
      "collected_count": "123",
      "comment_count": "0",
      "share_count": "31",
      "followed": false,
      "relation": "none",
      "liked": false,
      "liked_count": "127"
    },
    "image_list": [
      {
        "width": 1179,
        "trace_id": "",
        "live_photo": false,
        "file_id": "",
        "height": 2007,
        "url": "",
        "info_list": [
          {
            "image_scene": "WB_PRV",
            "url": "123"
          },
          {
            "image_scene": "WB_DFT",
            "url": "123"
          }
        ],
        "url_pre": "123",
        "url_default": "123",
        "stream": {}
      }
    ]
  }
]
```

## æ³¨æ„äº‹é¡¹

- è¯·éµå®ˆå°çº¢ä¹¦çš„ä½¿ç”¨æ¡æ¬¾å’ŒæœåŠ¡åè®®
- å»ºè®®æ§åˆ¶çˆ¬å–é¢‘ç‡ï¼Œé¿å…å¯¹æœåŠ¡å™¨é€ æˆå‹åŠ›
- è¯·åˆç†ä½¿ç”¨é‡‡é›†åˆ°çš„æ•°æ®ï¼Œéµå®ˆç›¸å…³æ³•å¾‹æ³•è§„
- å»ºè®®åœ¨ä½¿ç”¨å‰å…ˆè¿›è¡Œå°è§„æ¨¡æµ‹è¯•

## å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆæ•°æ®é‡‡é›†ä¼šæš‚åœï¼Ÿ**  
A: å¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜æˆ–é¡µé¢åŠ è½½å»¶è¿Ÿï¼Œè¯·å¢åŠ é‡‡é›†å»¶è¿Ÿ

**Q: å¦‚ä½•è®¾ç½®é‡‡é›†çš„é¡µæ•°ï¼Ÿ**  
A: ä¸éœ€è¦è®¾ç½®ï¼Œä¼šè‡ªåŠ¨æ»šåŠ¨é¡µé¢

**Q: æ•°æ®è§£æå‡ºé”™æ€ä¹ˆåŠï¼Ÿ**  
A: ç¡®ä¿ HAR æ–‡ä»¶å®Œæ•´ä¸”æ ¼å¼æ­£ç¡®ï¼Œå¦‚æœé—®é¢˜æŒç»­ï¼Œè¯·æäº¤ Issueã€‚

## è®¸å¯è¯

[MIT License](LICENSE)

## å…è´£å£°æ˜

æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºå•†ä¸šç”¨é€”ã€‚å¯¹äºä½¿ç”¨æœ¬å·¥å…·æ‰€äº§ç”Ÿçš„ä»»ä½•é—®é¢˜ï¼Œä½œè€…ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚
